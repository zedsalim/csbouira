document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("updateModal"),t=[document.getElementById("closeUpdateModal"),document.getElementById("celebrateCloseBtn"),],d=document.getElementById("confettiCanvas"),n=d.getContext("2d"),i=localStorage.getItem("csb_update_seen");setTimeout(()=>{i||(e.classList.remove("hidden"),o(),setTimeout(()=>localStorage.setItem("csb_update_seen","true"),2e3))},1600),t.forEach(t=>{t.addEventListener("click",()=>{e.classList.add("hidden"),h()})});let a=[],l;function o(){c(),a=Array.from({length:100}).map(()=>({x:Math.random()*d.width,y:Math.random()*d.height-d.height,r:6*Math.random()+2,d:50*Math.random(),color:`hsl(${360*Math.random()}, 100%, 50%)`,tilt:10*Math.random()-10})),l=setInterval(r,20),window.addEventListener("resize",c)}function h(){clearInterval(l),n.clearRect(0,0,d.width,d.height)}function c(){d.width=e.clientWidth,d.height=e.clientHeight}function r(){n.clearRect(0,0,d.width,d.height),a.forEach((e,t)=>{n.beginPath(),n.fillStyle=e.color,n.fillRect(e.x,e.y,e.r,e.r),e.y+=Math.cos(e.d)+1+e.r/2,e.x+=Math.sin(e.d),e.y>d.height&&(a[t]={...e,x:Math.random()*d.width,y:-10})})}});
